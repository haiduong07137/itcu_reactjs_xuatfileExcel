{"ast":null,"code":"import _classCallCheck from \"D:\\\\gocBaitap\\\\ETan\\\\ICTUedu\\\\Client2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\gocBaitap\\\\ETan\\\\ICTUedu\\\\Client2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:\\\\gocBaitap\\\\ETan\\\\ICTUedu\\\\Client2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\gocBaitap\\\\ETan\\\\ICTUedu\\\\Client2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\gocBaitap\\\\ETan\\\\ICTUedu\\\\Client2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\n\nvar _jsxFileName = \"D:\\\\gocBaitap\\\\ETan\\\\ICTUedu\\\\Client2\\\\src\\\\app\\\\views\\\\calendar\\\\MyWeek.jsx\",\n    _this3 = this;\n\nimport React from 'react'; //import * as dates from 'date-arithmetic'\n\nimport events from './events';\nimport { Calendar, Views, Navigate } from 'react-big-calendar';\nimport TimeGrid from 'react-big-calendar/lib/TimeGrid';\nimport { inRange } from 'react-big-calendar/lib/utils/eventLevels';\nimport { isSelected } from 'react-big-calendar/lib/utils/selection';\nimport * as dates from 'react-big-calendar/lib/utils/dates';\nimport addClass from 'dom-helpers/addClass';\nimport removeClass from 'dom-helpers/removeClass';\nimport getWidth from 'dom-helpers/width';\nimport scrollbarSize from 'dom-helpers/scrollbarSize';\n\nvar MyWeek = /*#__PURE__*/function (_React$Component) {\n  _inherits(MyWeek, _React$Component);\n\n  var _super = _createSuper(MyWeek);\n\n  function MyWeek(props) {\n    var _this;\n\n    _classCallCheck(this, MyWeek);\n\n    _this = _super.call(this, props);\n\n    _this._adjustHeader = function () {\n      if (!_this.tbodyRef.current) return;\n      var header = _this.headerRef.current;\n      var firstRow = _this.tbodyRef.current.firstChild;\n      if (!firstRow) return;\n      var isOverflowing = _this.contentRef.current.scrollHeight > _this.contentRef.current.clientHeight;\n      var widths = _this._widths || [];\n      _this._widths = [getWidth(firstRow.children[0]), getWidth(firstRow.children[1])];\n\n      if (widths[0] !== _this._widths[0] || widths[1] !== _this._widths[1]) {\n        _this.dateColRef.current.style.width = _this._widths[0] + 'px';\n        _this.timeColRef.current.style.width = _this._widths[1] + 'px';\n      }\n\n      if (isOverflowing) {\n        addClass(header, 'rbc-header-overflowing');\n        header.style.marginRight = scrollbarSize() + 'px';\n      } else {\n        removeClass(header, 'rbc-header-overflowing');\n      }\n    };\n\n    _this.timeRangeLabel = function (day, event) {\n      var _this$props = _this.props,\n          accessors = _this$props.accessors,\n          localizer = _this$props.localizer,\n          components = _this$props.components;\n      var labelClass = '',\n          TimeComponent = components.time,\n          label = localizer.messages.allDay;\n      var end = accessors.end(event);\n      var start = accessors.start(event);\n\n      if (!accessors.allDay(event)) {\n        if (dates.eq(start, end)) {\n          label = localizer.format(start, 'agendaTimeFormat');\n        } else if (dates.eq(start, end, 'day')) {\n          label = localizer.format({\n            start,\n            end\n          }, 'agendaTimeRangeFormat');\n        } else if (dates.eq(day, start, 'day')) {\n          label = localizer.format(start, 'agendaTimeFormat');\n        } else if (dates.eq(day, end, 'day')) {\n          label = localizer.format(end, 'agendaTimeFormat');\n        }\n      }\n\n      if (dates.gt(day, start, 'day')) labelClass = 'rbc-continues-prior';\n      if (dates.lt(day, end, 'day')) labelClass += ' rbc-continues-after';\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: labelClass.trim(),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 7\n        }\n      }, TimeComponent ? /*#__PURE__*/React.createElement(TimeComponent, {\n        event: event,\n        day: day,\n        label: label,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }\n      }) : label);\n    };\n\n    _this.renderDay = function (day, events, dayKey) {\n      var _this$props2 = _this.props,\n          selected = _this$props2.selected,\n          getters = _this$props2.getters,\n          accessors = _this$props2.accessors,\n          localizer = _this$props2.localizer,\n          _this$props2$componen = _this$props2.components,\n          Event = _this$props2$componen.event,\n          WeekAgendaDate = _this$props2$componen.date;\n      events = events.filter(function (e) {\n        return inRange(e, dates.startOf(day, 'day'), dates.endOf(day, 'day'), accessors);\n      });\n      return events.map(function (event, idx) {\n        var title = accessors.title(event);\n        var end = accessors.end(event);\n        var start = accessors.start(event);\n        var userProps = getters.eventProp(event, start, end, isSelected(event, selected));\n        var dateLabel = idx === 0 && localizer.format(day, 'agendaDateFormat');\n        var first = idx === 0 ? /*#__PURE__*/React.createElement(\"td\", {\n          rowSpan: events.length,\n          className: \"rbc-agenda-date-cell\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }\n        }, WeekAgendaDate ? /*#__PURE__*/React.createElement(WeekAgendaDate, {\n          day: day,\n          label: dateLabel,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }\n        }) : dateLabel) : false;\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: dayKey + '_' + idx,\n          className: userProps.className,\n          style: userProps.style,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 9\n          }\n        }, first, /*#__PURE__*/React.createElement(\"td\", {\n          className: \"rbc-agenda-time-cell\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 11\n          }\n        }, _this.timeRangeLabel(day, event)), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"rbc-agenda-event-cell\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 11\n          }\n        }, Event ? /*#__PURE__*/React.createElement(Event, {\n          event: event,\n          title: title,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 22\n          }\n        }) : title), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"rbc-agenda-event-cell\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 11\n          }\n        }, Event ? /*#__PURE__*/React.createElement(Event, {\n          event: event,\n          title: title,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 22\n          }\n        }) : title));\n      }, []);\n    };\n\n    _this.headerRef = React.createRef();\n    _this.dateColRef = React.createRef();\n    _this.timeColRef = React.createRef();\n    _this.contentRef = React.createRef();\n    _this.tbodyRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(MyWeek, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._adjustHeader();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this._adjustHeader();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          length = _this$props3.length,\n          date = _this$props3.date,\n          events = _this$props3.events,\n          accessors = _this$props3.accessors,\n          localizer = _this$props3.localizer;\n      var messages = localizer.messages;\n      var end = dates.add(date, length, 'day');\n      var range = dates.range(date, end, 'day');\n      events = events.filter(function (event) {\n        return inRange(event, date, end, accessors);\n      });\n      events.sort(function (a, b) {\n        return +accessors.start(a) - +accessors.start(b);\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"rbc-agenda-view\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        ref: this.headerRef,\n        className: \"rbc-agenda-table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        className: \"rbc-header\",\n        ref: this.dateColRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 19\n        }\n      }, messages.date), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"rbc-header\",\n        ref: this.timeColRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 19\n        }\n      }, messages.time), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"rbc-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 19\n        }\n      }, messages.event), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"rbc-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 20\n        }\n      }, messages.event)))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"rbc-agenda-content\",\n        ref: this.contentRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"rbc-agenda-table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        ref: this.tbodyRef,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 17\n        }\n      }, range.map(function (day, idx) {\n        return _this2.renderDay(day, events, idx);\n      })))))); //let { date } = this.props\n      //let range = MyWeek.range(date)\n      //return <TimeGrid {...this.props} range={range} eventOffset={15} />\n    }\n  }]);\n\n  return MyWeek;\n}(React.Component);\n\nMyWeek.range = function (date) {\n  var start = date;\n  var end = dates.add(start, 2, 'day');\n  var current = start;\n  var range = [];\n\n  while (dates.lte(current, end, 'day')) {\n    range.push(current);\n    current = dates.add(current, 1, 'day');\n  }\n\n  return range;\n};\n\nMyWeek.navigate = function (date, action) {\n  switch (action) {\n    case Navigate.PREVIOUS:\n      return dates.add(date, -3, 'day');\n\n    case Navigate.NEXT:\n      return dates.add(date, 3, 'day');\n\n    default:\n      return date;\n  }\n};\n\nMyWeek.title = function (start, _ref) {\n  var _ref$length = _ref.length,\n      length = _ref$length === void 0 ? MyWeek.defaultProps.length : _ref$length,\n      localizer = _ref.localizer;\n  var end = dates.add(start, length, 'day');\n  return localizer.format({\n    start,\n    end\n  }, 'agendaHeaderFormat');\n};\n\nvar CustomView = function CustomView(_ref2) {\n  var localizer = _ref2.localizer;\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Calendar, {\n    events: events,\n    localizer: localizer,\n    defaultView: Views.WEEK,\n    defaultDate: new Date(2015, 3, 1),\n    views: {\n      month: true,\n      week: MyWeek\n    },\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 5\n    }\n  }));\n};\n\nexport default MyWeek;","map":{"version":3,"sources":["D:/gocBaitap/ETan/ICTUedu/Client2/src/app/views/calendar/MyWeek.jsx"],"names":["React","events","Calendar","Views","Navigate","TimeGrid","inRange","isSelected","dates","addClass","removeClass","getWidth","scrollbarSize","MyWeek","props","_adjustHeader","tbodyRef","current","header","headerRef","firstRow","firstChild","isOverflowing","contentRef","scrollHeight","clientHeight","widths","_widths","children","dateColRef","style","width","timeColRef","marginRight","timeRangeLabel","day","event","accessors","localizer","components","labelClass","TimeComponent","time","label","messages","allDay","end","start","eq","format","gt","lt","trim","renderDay","dayKey","selected","getters","Event","WeekAgendaDate","date","filter","e","startOf","endOf","map","idx","title","userProps","eventProp","dateLabel","first","length","className","createRef","add","range","sort","a","b","Component","lte","push","navigate","action","PREVIOUS","NEXT","defaultProps","CustomView","WEEK","Date","month","week"],"mappings":"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","sourcesContent":["import React from 'react'\r\n\r\n//import * as dates from 'date-arithmetic'\r\n\r\nimport events from './events'\r\nimport { Calendar, Views, Navigate } from 'react-big-calendar'\r\nimport TimeGrid from 'react-big-calendar/lib/TimeGrid'\r\nimport { inRange } from 'react-big-calendar/lib/utils/eventLevels'\r\nimport { isSelected } from 'react-big-calendar/lib/utils/selection'\r\nimport * as dates from 'react-big-calendar/lib/utils/dates'\r\nimport addClass from 'dom-helpers/addClass'\r\nimport removeClass from 'dom-helpers/removeClass'\r\nimport getWidth from 'dom-helpers/width'\r\nimport scrollbarSize from 'dom-helpers/scrollbarSize'\r\n\r\nclass MyWeek extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.headerRef = React.createRef()\r\n    this.dateColRef = React.createRef()\r\n    this.timeColRef = React.createRef()\r\n    this.contentRef = React.createRef()\r\n    this.tbodyRef = React.createRef()\r\n  }\r\n  componentDidMount() {\r\n    this._adjustHeader()\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this._adjustHeader()\r\n  }\r\n  _adjustHeader = () => {\r\n    if (!this.tbodyRef.current) return\r\n\r\n    let header = this.headerRef.current\r\n    let firstRow = this.tbodyRef.current.firstChild\r\n\r\n    if (!firstRow) return\r\n\r\n    let isOverflowing =\r\n      this.contentRef.current.scrollHeight >\r\n      this.contentRef.current.clientHeight\r\n    let widths = this._widths || []\r\n\r\n    this._widths = [\r\n      getWidth(firstRow.children[0]),\r\n      getWidth(firstRow.children[1]),\r\n    ]\r\n\r\n    if (widths[0] !== this._widths[0] || widths[1] !== this._widths[1]) {\r\n      this.dateColRef.current.style.width = this._widths[0] + 'px'\r\n      this.timeColRef.current.style.width = this._widths[1] + 'px'\r\n    }\r\n\r\n    if (isOverflowing) {\r\n      addClass(header, 'rbc-header-overflowing')\r\n      header.style.marginRight = scrollbarSize() + 'px'\r\n    } else {\r\n      removeClass(header, 'rbc-header-overflowing')\r\n    }\r\n  }\r\n  timeRangeLabel = (day, event) => {\r\n    let { accessors, localizer, components } = this.props\r\n\r\n    let labelClass = '',\r\n      TimeComponent = components.time,\r\n      label = localizer.messages.allDay\r\n\r\n    let end = accessors.end(event)\r\n    let start = accessors.start(event)\r\n\r\n    if (!accessors.allDay(event)) {\r\n      if (dates.eq(start, end)) {\r\n        label = localizer.format(start, 'agendaTimeFormat')\r\n      } else if (dates.eq(start, end, 'day')) {\r\n        label = localizer.format({ start, end }, 'agendaTimeRangeFormat')\r\n      } else if (dates.eq(day, start, 'day')) {\r\n        label = localizer.format(start, 'agendaTimeFormat')\r\n      } else if (dates.eq(day, end, 'day')) {\r\n        label = localizer.format(end, 'agendaTimeFormat')\r\n      }\r\n    }\r\n\r\n    if (dates.gt(day, start, 'day')) labelClass = 'rbc-continues-prior'\r\n    if (dates.lt(day, end, 'day')) labelClass += ' rbc-continues-after'\r\n\r\n    return (\r\n      <span className={labelClass.trim()}>\r\n        {TimeComponent ? (\r\n          <TimeComponent event={event} day={day} label={label} />\r\n        ) : (\r\n          label\r\n        )}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  renderDay = (day, events, dayKey) => {\r\n    let {\r\n      selected,\r\n      getters,\r\n      accessors,\r\n      localizer,\r\n      components: { event: Event, date: WeekAgendaDate },\r\n    } = this.props\r\n\r\n    events = events.filter(e =>\r\n      inRange(e, dates.startOf(day, 'day'), dates.endOf(day, 'day'), accessors)\r\n    )\r\n\r\n    return events.map((event, idx) => {\r\n      let title = accessors.title(event)\r\n      let end = accessors.end(event)\r\n      let start = accessors.start(event)\r\n\r\n      const userProps = getters.eventProp(\r\n        event,\r\n        start,\r\n        end,\r\n        isSelected(event, selected)\r\n      )\r\n\r\n      let dateLabel = idx === 0 && localizer.format(day, 'agendaDateFormat')\r\n      let first =\r\n        idx === 0 ? (\r\n          <td rowSpan={events.length} className=\"rbc-agenda-date-cell\">\r\n            {WeekAgendaDate ? (\r\n              <WeekAgendaDate day={day} label={dateLabel} />\r\n            ) : (\r\n              dateLabel\r\n            )}\r\n          </td>\r\n        ) : (\r\n          false\r\n        )\r\n\r\n      return (\r\n        <tr\r\n          key={dayKey + '_' + idx}\r\n          className={userProps.className}\r\n          style={userProps.style}\r\n        >\r\n          {first}\r\n          <td className=\"rbc-agenda-time-cell\">\r\n            {this.timeRangeLabel(day, event)}\r\n          </td>\r\n          <td className=\"rbc-agenda-event-cell\">\r\n            {Event ? <Event event={event} title={title} /> : title}\r\n          </td>\r\n          <td className=\"rbc-agenda-event-cell\">\r\n            {Event ? <Event event={event} title={title} /> : title}\r\n          </td>          \t  \r\n        </tr>\r\n      )\r\n    }, [])\r\n  }\r\n\r\n  \r\n  render() {\r\n\r\n    let { length, date, events, accessors, localizer } = this.props\r\n    let { messages } = localizer\r\n    let end = dates.add(date, length, 'day')\r\n    let range = dates.range(date, end, 'day')\r\n    events = events.filter(event => inRange(event, date, end, accessors))\r\n    events.sort((a, b) => +accessors.start(a) - +accessors.start(b))\r\n    return (\r\n      <div className=\"rbc-agenda-view\">\r\n          <React.Fragment>\r\n            <table ref={this.headerRef} className=\"rbc-agenda-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"rbc-header\" ref={this.dateColRef}>\r\n                    {messages.date}\r\n                  </th>\r\n                  <th className=\"rbc-header\" ref={this.timeColRef}>\r\n                    {messages.time}\r\n                  </th>\r\n                  <th className=\"rbc-header\">{messages.event}</th>\r\n                  \t<th className=\"rbc-header\">{messages.event}</th>\r\n                </tr>\r\n              </thead>\r\n            </table>\r\n            <div className=\"rbc-agenda-content\" ref={this.contentRef}>\r\n              <table className=\"rbc-agenda-table\">\r\n                <tbody ref={this.tbodyRef}>\r\n                  {range.map((day, idx) => this.renderDay(day, events, idx))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </React.Fragment>\r\n      </div>\r\n    )    \r\n    //let { date } = this.props\r\n    //let range = MyWeek.range(date)\r\n\r\n    //return <TimeGrid {...this.props} range={range} eventOffset={15} />\r\n    }\r\n  }\r\n\r\nMyWeek.range = date => {\r\n  let start = date\r\n  let end = dates.add(start, 2, 'day')\r\n\r\n  let current = start\r\n  let range = []\r\n\r\n  while (dates.lte(current, end, 'day')) {\r\n    range.push(current)\r\n    current = dates.add(current, 1, 'day')\r\n  }\r\n\r\n  return range\r\n}\r\n\r\nMyWeek.navigate = (date, action) => {\r\n  switch (action) {\r\n    case Navigate.PREVIOUS:\r\n      return dates.add(date, -3, 'day')\r\n\r\n    case Navigate.NEXT:\r\n      return dates.add(date, 3, 'day')\r\n\r\n    default:\r\n      return date\r\n  }\r\n}\r\n\r\nMyWeek.title = (start, { length = MyWeek.defaultProps.length, localizer }) => {\r\n  let end = dates.add(start, length, 'day')\r\n  return localizer.format({ start, end }, 'agendaHeaderFormat')\r\n}\r\nlet CustomView = ({ localizer }) => (\r\n  <React.Fragment>\r\n\r\n    <Calendar\r\n      events={events}\r\n      localizer={localizer}\r\n      defaultView={Views.WEEK}\r\n      defaultDate={new Date(2015, 3, 1)}\r\n      views={{ month: true, week: MyWeek}}\r\n    />\r\n  </React.Fragment>\r\n)\r\n\r\nexport default MyWeek;\r\n"]},"metadata":{},"sourceType":"module"}